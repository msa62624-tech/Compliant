# ═══════════════════════════════════════════════════════════════════
# DEVELOPMENT ENVIRONMENT CONFIGURATION
# ═══════════════════════════════════════════════════════════════════
# This file contains development/testing configuration values.
# For production deployment, see:
#   - packages/backend/.env.production.template
#   - PRODUCTION_READINESS_GUIDE.md
# ═══════════════════════════════════════════════════════════════════

# Database
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/compliant_dev"

# JWT Authentication
# SECURITY WARNING: 
#   - Generate cryptographically secure random secrets using: openssl rand -base64 32
#   - These development values MUST be changed in production
#   - Use 32+ character secrets in production
#   - Rotate secrets quarterly for security
JWT_SECRET="your-super-secret-jwt-key-change-in-production-min-32-chars"
JWT_REFRESH_SECRET="your-super-secret-refresh-key-change-in-production-min-32-chars"
JWT_EXPIRATION="15m"
JWT_REFRESH_EXPIRATION="7d"

# Redis (Session Management)
REDIS_URL="redis://localhost:6379"
SESSION_EXPIRATION="30d"

# Email Service
# REQUIRED: Email provider and SMTP credentials must be configured
EMAIL_PROVIDER="sendgrid"
SENDGRID_API_KEY=""
AWS_SES_REGION=""
AWS_SES_ACCESS_KEY=""
AWS_SES_SECRET_KEY=""
# SMTP Configuration (Required when using SMTP provider)
# For Microsoft 365/Outlook, use smtp.office365.com with port 587
SMTP_HOST="smtp.office365.com"
SMTP_PORT="587"
SMTP_USER=""  # REQUIRED: Your SMTP username/email
SMTP_PASS=""  # REQUIRED: Your SMTP password
EMAIL_FROM="noreply@compliant.com"

# File Storage
STORAGE_PROVIDER="local"
AWS_S3_BUCKET=""
AWS_S3_REGION=""
AWS_S3_ACCESS_KEY=""
AWS_S3_SECRET_KEY=""
AZURE_STORAGE_CONNECTION_STRING=""
AZURE_STORAGE_CONTAINER=""
LOCAL_STORAGE_PATH="./uploads"
MAX_FILE_SIZE="10485760"
ALLOWED_FILE_TYPES="pdf,jpg,jpeg,png,doc,docx"
VIRUS_SCAN_ENABLED="false"
CLAMAV_HOST="localhost"
CLAMAV_PORT="3310"

# AI & Document Processing (PR #3)
AI_PROVIDER="openai"
OPENAI_API_KEY=""
ANTHROPIC_API_KEY=""
AI_MODEL="gpt-4"
AI_TEMPERATURE="0.2"
AI_MAX_TOKENS="2000"
ADOBE_CLIENT_ID=""
ADOBE_CLIENT_SECRET=""
ADOBE_ORGANIZATION_ID=""

# External Integrations (PR #5)
NYC_DOB_API_KEY=""
NYC_DOB_API_URL="https://data.cityofnewyork.us/resource/"
NYC_DOB_CACHE_TTL="3600"
GOOGLE_PLACES_API_KEY=""
GOOGLE_PLACES_CACHE_TTL="86400"

# Communication & Monitoring (PR #6)
NOTIFICATION_EMAIL_ENABLED="true"
NOTIFICATION_SMS_ENABLED="false"
TWILIO_ACCOUNT_SID=""
TWILIO_AUTH_TOKEN=""
TWILIO_FROM_NUMBER=""
EXPIRING_POLICY_ALERT_DAYS="30,15,7,1"
POLICY_ALERT_EMAIL_ENABLED="true"
POLICY_ALERT_FREQUENCY="daily"

# Admin Tools & Portals (PR #7)
ADMIN_EMAIL="admin@compliant.com"
AUDIT_LOG_RETENTION_DAYS="365"
GC_PORTAL_ENABLED="true"
GC_PORTAL_URL="https://gc.compliant.com"
BROKER_PORTAL_ENABLED="true"
BROKER_PORTAL_URL="https://broker.compliant.com"
PORTAL_ACCESS_CODE_LENGTH="8"

# Field-Level Encryption
# SECURITY WARNING: 
#   - Generate cryptographically secure keys and salt using:
#     ENCRYPTION_KEY: openssl rand -base64 32
#     ENCRYPTION_SALT: openssl rand -hex 16
#   - Both ENCRYPTION_KEY and ENCRYPTION_SALT are REQUIRED for field encryption
#   - These empty values are for development only
#   - MUST be set in production (see .env.production.template)
ENCRYPTION_KEY=""
ENCRYPTION_SALT=""

# Server
PORT=3001
NODE_ENV="development"

# CORS
# Development: localhost allowed
# Production: Only include production domains (NO localhost)
# Support single origin or comma-separated list of multiple origins
# Examples: 
#   CORS_ORIGIN="http://localhost:3000"
#   CORS_ORIGIN="https://app.example.com,https://admin.example.com"
CORS_ORIGIN="http://localhost:3000"

# Frontend URL (for email links)
FRONTEND_URL="http://localhost:3000"

# ═══════════════════════════════════════════════════════════════════
# PRODUCTION DEPLOYMENT
# ═══════════════════════════════════════════════════════════════════
# Before deploying to production:
#   1. Review PRODUCTION_READINESS_GUIDE.md
#   2. Copy .env.production.template to .env.production
#   3. Fill in all production secrets
#   4. Run: node scripts/validate-production-env.js --env-file=.env.production
#   5. Follow deployment checklist: scripts/production-deployment-checklist.sh
# ═══════════════════════════════════════════════════════════════════
